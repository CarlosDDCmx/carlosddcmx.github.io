<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Adding system arguments | Carlos D. Díaz C. </title> <meta name="author" content="Carlos D. Díaz C."> <meta name="description" content="Tutorial 2"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pseudocode@2.4.1/build/pseudocode.min.css" integrity="sha256-VwMV//xgBPDyRFVSOshhRhzJRDyBmIACniLPpeXNUdc=" crossorigin="anonymous"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://carlosddcmx.github.io/projects/3_Adding_system_arguments/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Carlos</span> D. Díaz C. </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">tutorials <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Adding system arguments</h1> <p class="post-description">Tutorial 2</p> </header> <article> <p>The first program worked using the most common method tutorials teach, which is variables within the code. However there are still other ways to use them outside the code itself and gives a more “hacker” feeling. Through system arguments.</p> <p>This requires the library sys from Python and make some small adjustments to the files: <strong>__init__.py, functions.py and main.py</strong>.</p> <h1 id="1-new-function">1. <strong>New function</strong> </h1> <p>The first step is in <strong>functions.py</strong>, using a conditional we will simply check if the argument numbers is exactly the required amount. In this case it is going to be 4. Go into the functions.py and make sure the library sys is being imported, then add a new function <strong>check_sys_arg</strong>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">sys</span>

<span class="sh">"""</span><span class="s">
// Code from lesson 1 here
</span><span class="sh">"""</span>

<span class="k">def</span> <span class="nf">check_sys_arg</span><span class="p">():</span>
    <span class="sh">"""</span><span class="s">
    Checks if received system arguments are correct.
    Returns:
    A boolean value indicating if args are correct
    </span><span class="sh">"""</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div> <h1 id="2-modify-package-importing">2. <strong>Modify package importing</strong> </h1> <p>In the <strong>__init__.py</strong> add the <strong>check_sys_arg</strong> function:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">.functions</span> <span class="kn">import</span> <span class="n">read_ods_file</span><span class="p">,</span> <span class="n">get_sheet_data</span><span class="p">,</span> <span class="n">save_JSON_file</span><span class="p">,</span> <span class="n">check_sys_arg</span>
<span class="kn">from</span> <span class="n">.config_utils</span> <span class="kn">import</span> <span class="n">load_config</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sh">'</span><span class="s">read_ods_file</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">get_sheet_data</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">save_JSON_file</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">load_config</span><span class="sh">'</span><span class="p">,</span>
    <span class="sh">'</span><span class="s">check_sys_arg</span><span class="sh">'</span>
<span class="p">]</span>
</code></pre></div></div> <h1 id="3-call-check-arguments-in-main">3. <strong>Call check arguments in main</strong> </h1> <p>The final step is adding in main the newly created function. Before, we used a config file to get the variables, now we can use arguments system to pass them onto the program via command line (or terminal in linux). So we can replace both lines with config and just get the system values with <strong>sys.argv[i]</strong> where <strong>i</strong> is the index number. However, as someone said before, why not both?. This can be done by adding another condintion inside main and modify it to check if the arguments are valid it will use them, else will use config files. This means main function will be changed to this:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">if</span><span class="p">(</span><span class="nf">check_sys_arg</span><span class="p">()):</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">sheet_index</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">json_path</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_path</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">),</span> <span class="sh">'</span><span class="s">config</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">config.json</span><span class="sh">'</span><span class="p">)</span>
            <span class="n">config</span> <span class="o">=</span> <span class="nf">load_config</span><span class="p">(</span><span class="n">config_path</span><span class="p">)</span>
            <span class="n">data_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">ods_file</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">sheet_index</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">sheet_number</span><span class="sh">"</span><span class="p">]</span>
            <span class="n">json_path</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">JSON_file</span><span class="sh">"</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="nf">read_ods_file</span><span class="p">(</span><span class="n">data_path</span><span class="p">)</span>
        <span class="n">table</span> <span class="o">=</span> <span class="nf">get_sheet_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">sheet_index</span><span class="p">)</span>
        <span class="nf">save_JSON_file</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">json_path</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error: </span><span class="si">{</span><span class="nf">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">sys</span><span class="p">.</span><span class="nf">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div> <p>A little explanation about sys.arg is in Python this is a special list where all the arguments or information passed from a command line/terminal are stored. This one will always have at least one which is the program you are calling, in this case main.py. To get it you have to use sys.argv[0], now, in coding everything starts with zero(0), and any other information is added in sequential order. That’s why in the block after <strong>if(check_sys_arg()):</strong> we are going from 1 to 3. This means the order is important whenever you call the program from command line/terminal.</p> <h1 id="4-calling-our-program-from-command-lineterminal">4. <strong>Calling our program from command line/terminal</strong> </h1> <p>The program is completed, however to use it as “a pro” you have to open the command line (in windows you can use the search bar and type <strong>cmd</strong> and enter) where you invoke the program by either going into the path where main.py is stored (known as relative path) or type in the whole path where main.py is store (known as absolute path). Here is how to do it once you are in the command line/terminal:</p> <p>For absolute path you must type the next: <strong>python.exe &lt;path/to/code&gt;/main.py &lt;ods_file&gt; &lt;sheet_number&gt; &lt;JSON_file&gt;</strong>. If you are confused, you can go to where the file is and in the upper part copy the path, for example the main.py is stored in: <strong>D:/Programs/Python/tutorial 1/code</strong>, therefore the absolute path is <strong>D:/Programs/Python/tutorial 1/code/main.py</strong>. As for the rest, just like the example in tutorial 1. This means the line should be typed as:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">&gt;</span><span class="w"> </span><span class="n">python.exe</span><span class="w"> </span><span class="s2">"D:/Programs/Python/tutorial 1/code/main.py"</span><span class="w"> </span><span class="s2">"D:/Files/Balance Sheet/2024/June.ods"</span><span class="w"> </span><span class="nx">1</span><span class="w"> </span><span class="s2">"D:/Files/Balance Sheet/2024/June.json"</span><span class="w">
</span></code></pre></div></div> <p>For a relative path, you first have to go into the folder from the command line using the command <strong>cd</strong> and just call <strong>python.exe</strong> followed by the python file name and all the arguments. Following the absolute path example you have to do this:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">&gt;</span><span class="w"> </span><span class="n">D:</span><span class="w">
</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">cd</span><span class="w"> </span><span class="nx">Programs/Python/tutorial</span><span class="w"> </span><span class="nx">1/code</span><span class="w">
</span><span class="err">&gt;</span><span class="w"> </span><span class="n">python.exe</span><span class="w"> </span><span class="s2">"main.py"</span><span class="w"> </span><span class="s2">"D:/Files/Balance Sheet/2024/June.ods"</span><span class="w"> </span><span class="nx">1</span><span class="w"> </span><span class="s2">"D:/Files/Balance Sheet/2024/June.json"</span><span class="w">
</span></code></pre></div></div> <p>In the case the relative path, you could try it from within the place where your ods file is stored and combine with absolute, for example:</p> <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">&gt;</span><span class="w"> </span><span class="n">D:</span><span class="w">
</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">cd</span><span class="w"> </span><span class="nx">Files/Balance</span><span class="w"> </span><span class="nx">Sheet/2024</span><span class="w">
</span><span class="err">&gt;</span><span class="w"> </span><span class="n">python.exe</span><span class="w"> </span><span class="s2">"D:/Programs/Python/tutorial 1/code/main.py"</span><span class="w"> </span><span class="s2">"June.ods"</span><span class="w"> </span><span class="nx">1</span><span class="w"> </span><span class="s2">"June.json"</span><span class="w">
</span></code></pre></div></div> <p>Hope this helps you understand a little better the programming world and start expanding your knowledge.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Carlos D. Díaz C.. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/pseudocode-setup.js?72ed28a041e322f764b0d9c59cf428b5"></script> <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pseudocode@2.4.1/build/pseudocode.min.js" integrity="sha256-aVkDxqyzrB+ExUsOY9PdyelkDhn/DfrjWu08aVpqNlo=" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>